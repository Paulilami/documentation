---
title: 'Balancer V3 Exchange'
description: 'Decentralized trading infrastructure for tokenized stocks using Balancer V3 weighted pools with advanced features'
---

## Overview

The Balancer V3 Exchange provides decentralized trading infrastructure for tokenized stocks through weighted pools optimized for price discovery and liquidity provision. The system implements advanced features including leveraged trading, automated liquidations, and market-aware pricing oracles.

## Architecture

### Core Components

**Pool Manager**: Manages weighted pools with 80/20 stock/stablecoin ratios optimized for selling pressure from token holders

**Leverage Engine**: Enables up to 100x leveraged positions with automated risk management

**Unified Oracle**: Combines AMM, external oracle, and TWAP pricing for accurate valuations

**Liquidation Bot**: Monitors and executes liquidations to maintain system solvency

**Stock Token Hook**: Enforces trading restrictions and compliance requirements

## Smart Contract Addresses

### Ethereum Sepolia Testnet

| Contract | Address |
|----------|---------|
| BalancerV3PoolManager | `0x8d920608Ed50F8aB5f7eFf35D90e6b8Bd6a36fF3` |
| LeverageEngineV3 | `0x5b9ADAd789c8d01aFE67dBb0618786DeaE22daDc` |
| UnifiedOracle | `0x8dc4ed05a59c9bCe46a1e005bA516EE9296a74c4` |
| LiquidationBot | `0xd89Eddf05330817224eE23cD03679a5e361117b3` |
| StockTokenHook | `0x7b5BC48Faf16E038676B1E83779b926129D27714` |

## Key Features

### Weighted Pools
- 80/20 stock token to stablecoin ratio
- Optimized for minimal price impact
- Automatic rebalancing through arbitrage

### Leveraged Trading
- Up to 100x leverage
- Long and short positions
- Automated stop-loss and take-profit
- Cross-margin support

### Price Discovery
- Unified oracle system
- TWAP price tracking
- Market hours awareness
- Slippage protection

### Risk Management
- Automated liquidations
- Insurance fund
- Position health monitoring
- Emergency pause functionality

## Authentication

All API requests require authentication using your instance API key.

<ParamField header="x-api-key" type="string" required>
  Your unique API key provided during onboarding
</ParamField>

<ParamField header="x-instance-id" type="string">
  Optional instance identifier for multi-tenant deployments
</ParamField>

## Response Format

All API responses follow a standardized format:

```json
{
  "success": true,
  "data": {
    // Response data
  },
  "error": null,
  "metadata": {
    "timestamp": "2024-01-15T10:30:00Z",
    "requestId": "550e8400-e29b-41d4-a716-446655440000",
    "instanceId": "instance_123"
  }
}
```

## Error Handling

```json
{
  "success": false,
  "data": null,
  "error": {
    "code": "POOL_NOT_FOUND",
    "message": "Pool does not exist",
    "details": {
      "poolId": "0x..."
    }
  },
  "metadata": {
    "timestamp": "2024-01-15T10:30:00Z",
    "requestId": "550e8400-e29b-41d4-a716-446655440000"
  }
}
```

### Error Codes

| Code | Description |
|------|-------------|
| `POOL_NOT_FOUND` | Specified pool does not exist |
| `POOL_ALREADY_EXISTS` | Pool already exists for stock |
| `INSUFFICIENT_LIQUIDITY` | Not enough liquidity for trade |
| `INVALID_LEVERAGE` | Leverage exceeds maximum allowed |
| `POSITION_NOT_FOUND` | Position ID does not exist |
| `POSITION_NOT_LIQUIDATABLE` | Position health above liquidation threshold |
| `TRADING_DISABLED` | Trading is temporarily disabled |
| `PRICE_DEVIATION` | Price deviation exceeds maximum allowed |