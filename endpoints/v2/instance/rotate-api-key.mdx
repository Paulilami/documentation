---
title: 'Rotate API Key'
api: 'POST /api/v2/instance/api-keys/{keyId}/rotate'
---

Rotate an existing API key. A new key is generated immediately while the old key remains valid for 7 days to allow for a smooth transition.

<Info>
  The old key will be marked as `PENDING_ROTATION` and will automatically expire after 7 days.
</Info>

## Path Parameters

<ParamField path="keyId" type="string" required>
  The ID of the API key to rotate
</ParamField>

## Response Fields

<ResponseField name="oldKeyId" type="string">ID of the rotated (old) key</ResponseField>
<ResponseField name="newKeyId" type="string">ID of the newly created key</ResponseField>
<ResponseField name="newKey" type="string">The new API key (only shown once)</ResponseField>
<ResponseField name="overlapEndDate" type="string">Date when old key will expire</ResponseField>

<RequestExample>
```bash cURL
curl -X POST "https://api.trusset.org/api/v2/instance/api-keys/key_abc123def456/rotate" \
  -H "x-api-key: trusset_v2_abc123xy_a1b2c3d4e5f6..."
```
```javascript JavaScript
const keyId = 'key_abc123def456';

const response = await fetch(
  `https://api.trusset.org/api/v2/instance/api-keys/${keyId}/rotate`,
  {
    method: 'POST',
    headers: {
      'x-api-key': 'trusset_v2_abc123xy_a1b2c3d4e5f6...'
    }
  }
);

const data = await response.json();
console.log('New API Key:', data.data.newKey);
console.log('Old key valid until:', data.data.overlapEndDate);
```
```python Python
import requests

key_id = 'key_abc123def456'

response = requests.post(
    f'https://api.trusset.org/api/v2/instance/api-keys/{key_id}/rotate',
    headers={
        'x-api-key': 'trusset_v2_abc123xy_a1b2c3d4e5f6...'
    }
)

data = response.json()
print(f"New API Key: {data['data']['newKey']}")
print(f"Old key valid until: {data['data']['overlapEndDate']}")
```
```typescript TypeScript
interface RotateKeyResponse {
  success: boolean;
  data: {
    oldKeyId: string;
    newKeyId: string;
    newKey: string;
    overlapEndDate: string;
  };
  metadata: {
    requestId: string;
    timestamp: string;
  };
}

const keyId = 'key_abc123def456';
const response = await fetch(
  `https://api.trusset.org/api/v2/instance/api-keys/${keyId}/rotate`,
  {
    method: 'POST',
    headers: { 'x-api-key': 'trusset_v2_abc123xy_...' }
  }
);
const data: RotateKeyResponse = await response.json();
```
</RequestExample>

<ResponseExample>
```json Response
{
  "success": true,
  "data": {
    "oldKeyId": "key_abc123def456",
    "newKeyId": "key_new789xyz012",
    "newKey": "trusset_v2_abc123xy_newkeysecret1234567890abcdef...",
    "overlapEndDate": "2024-01-22T10:30:00.000Z"
  },
  "metadata": {
    "requestId": "550e8400-e29b-41d4-a716-446655440000",
    "timestamp": "2024-01-15T10:30:00.000Z"
  }
}
```
```json Error - Key Not Found
{
  "success": false,
  "error": {
    "code": "NOT_FOUND",
    "message": "API key not found"
  },
  "metadata": {
    "requestId": "550e8400-e29b-41d4-a716-446655440000",
    "timestamp": "2024-01-15T10:30:00.000Z"
  }
}
```
</ResponseExample>