---
title: "Stock Tokenization API"
description: "API documentation for licensed trading platforms to integrate one-click stock tokenization."
---

This API documentation is for approved partners holding the Investment Services License under MiFID II to integrate one-click tokenization of customer stocks with our infrastructure, directly into their trading platform, fully compliant with MiCA Asset-Referenced Token regulations, and operational within seconds.

## Overview
We issue MiCA Asset-Referenced Tokens (ARTs) that track stock prices without conferring ownership rights. This avoids complex MiFID II securities frameworks that require weeks of prospectus approvals per stock. Users get price exposure through debt instruments rather than actual securities, similar to how CFDs and traditional bank certificates work in Europe.
The integration follows a simple three-step flow:

1. **Lock** - Partner locks customer's stock position in their system
2. **Mint** - We mint tokenized certificates to customer's wallet
3. **Unlock** - Customer burns tokens, we notify partner to release original position

## Authentication
All API requests require authentication using your instance API key.
<ParamField header="x-api-key" type="string" required>
  Your unique API key provided during onboarding
</ParamField>
<CodeGroup>
```bash Authentication Header
curl -H "x-api-key: your-api-key-here" \
  https://api.trusset.org/api/stock-exchange/health
```
</CodeGroup>
<CodeGroup>
```json Success Response
{
  "status": "Stock exchange routes are accessible",
  "contractsInitialized": true,
  "timestamp": "2025-01-22T10:30:00.000Z"
}
```
</CodeGroup>


## Core Endpoints
### Lock Position

Locks a customer's stock position in preparation for tokenization.
<ParamField body="userId" type="string" required>
  Your internal customer identifier
</ParamField>
<ParamField body="stockISIN" type="string" required>
  International Securities Identification Number of the stock
</ParamField>
<ParamField body="amount" type="string" required>
  Number of shares to lock (as string to prevent precision loss)
</ParamField>

<CodeGroup>
```bash Lock Position
curl -X POST https://api.trusset.org/api/stock-exchange/lock \
  -H "Content-Type: application/json" \
  -H "x-api-key: your-api-key-here" \
  -d '{
    "userId": "customer-123",
    "stockISIN": "US0378331005",
    "amount": "100"
  }'
```
</CodeGroup>

<CodeGroup>
```json Lock Response
{
  "lockId": "LOCK-1642857600000-a1b2c3d4e5f6",
  "confirmation": true,
  "expiresIn": 3600
}
```
</CodeGroup>

## Mint Tokens
Mints tokenized certificates for a locked position to customer's wallet.
<ParamField body="lockId" type="string" required>
  Lock identifier returned from the lock endpoint
</ParamField>
<ParamField body="walletAddress" type="string" required>
  Customer's Ethereum wallet address (must be valid checksum address)
</ParamField>
<CodeGroup>
```bash Mint Tokens
curl -X POST https://api.trusset.org/api/stock-exchange/mint \
  -H "Content-Type: application/json" \
  -H "x-api-key: your-api-key-here" \
  -d '{
    "lockId": "LOCK-1642857600000-a1b2c3d4e5f6",
    "walletAddress": "0x742d35Cc6634C0532925a3b844Bc9e7595f5b5d4"
  }'
```
</CodeGroup>
<CodeGroup>
```json Mint Response
{
  "lockId": "LOCK-1642857600000-a1b2c3d4e5f6",
  "status": "minting",
  "message": "Minting process initiated",
  "walletAddress": "0x1234567890123456789012345678901234567890"
}
```
</CodeGroup>

## Check Status
Retrieves the current status of a lock and associated token operations.
<CodeGroup>
```bash Check Status
curl https://api.trusset.org/api/stock-exchange/status/LOCK-1642857600000-a1b2c3d4e5f6 \
  -H "x-api-key: your-api-key-here"
```
</CodeGroup>
<CodeGroup>
```json Status Response
{
  "lockId": "LOCK-1642857600000-a1b2c3d4e5f6",
  "status": "minted",
  "stockISIN": "US0378331005",
  "amount": "100",
  "tokenAddress": "0xabcdef1234567890abcdef1234567890abcdef12",
  "mintTxHash": "0x123abc456def789ghi012jkl345mno678pqr901stu234vwx567yz890",
  "createdAt": "2025-01-22T10:30:00.000Z",
  "mintedAt": "2025-01-22T10:32:15.000Z"
}
```
</CodeGroup>

The status field indicates the current state:
<ResponseField name="status" type="string">
  <Expandable title="possible values">
    <ResponseField name="locked" type="string">
      Position is locked, awaiting mint request
    </ResponseField>
    <ResponseField name="minting" type="string">
      Token minting transaction is being processed
    </ResponseField>
    <ResponseField name="minted" type="string">
      Tokens successfully minted to customer wallet
    </ResponseField>
    <ResponseField name="burned" type="string">
      Tokens burned by customer, unlock process initiated
    </ResponseField>
    <ResponseField name="failed" type="string">
      Operation failed, check error logs
    </ResponseField>
  </Expandable>
</ResponseField>

## Unlock Position
Processes unlock request after customer burns tokens.
<ParamField body="burnTxHash" type="string" required>
  Transaction hash of the token burn operation
</ParamField>
<ParamField body="amount" type="string" required>
  Amount of tokens burned
</ParamField>
<CodeGroup>
```bash Unlock Position
curl -X POST https://api.trusset.org/api/stock-exchange/unlock \
  -H "Content-Type: application/json" \
  -H "x-api-key: your-api-key-here" \
  -d '{
    "burnTxHash": "0x789def012abc345ghi678jkl901mno234pqr567stu890vwx123yz456",
    "amount": "100"
  }'
```
</CodeGroup>
<CodeGroup>
```json Unlock Response
{
  "confirmation": true,
  "lockId": "LOCK-1642857600000-a1b2c3d4e5f6",
  "status": "unlocking"
}
```
</CodeGroup>

## Webhook Events
Your system will receive webhook notifications for key events. Configure your webhook URL during partner onboarding.
Event Authentication
All webhooks include HMAC-SHA256 signature for verification:
<ParamField header="X-Webhook-Signature" type="string">
  HMAC-SHA256 hash of the payload using your webhook secret
</ParamField>
<ParamField header="X-Event-Type" type="string">
  Type of event being delivered
</ParamField>
<ParamField header="X-Partner-Id" type="string">
  Your partner identifier
</ParamField>
Position Locked
Sent when a position is successfully locked and ready for minting.
<CodeGroup>
```json position.locked
{
  "lockId": "LOCK-1642857600000-a1b2c3d4e5f6",
  "stockISIN": "US0378331005",
  "amount": "100",
  "tokenAddress": "0xabcdef1234567890abcdef1234567890abcdef12",
  "mintTxHash": "0x123abc456def789ghi012jkl345mno678pqr901stu234vwx567yz890"
}
```
</CodeGroup>
Tokens Burned
Sent when customer burns tokens and requests position unlock.
<CodeGroup>
```json tokens.burned
{
  "lockId": "LOCK-1642857600000-a1b2c3d4e5f6",
  "userId": "customer-123",
  "stockISIN": "US0378331005", 
  "amount": "100",
  "burnTxHash": "0x789def012abc345ghi678jkl901mno234pqr567stu890vwx123yz456"
}
```
</CodeGroup>
Position Unlock Requested
Sent when the system detects token burn and initiates unlock process.
<CodeGroup>
```json position.unlock_requested
{
  "lockId": "LOCK-1642857600000-a1b2c3d4e5f6",
  "userId": "customer-123",
  "stockISIN": "US0378331005",
  "amount": "100",
  "burnTxHash": "0x789def012abc345ghi678jkl901mno234pqr567stu890vwx123yz456"
}
```
</CodeGroup>
Error Handling
The API returns standard HTTP status codes and structured error responses.
<CodeGroup>
```json Error Response
{
  "error": "Invalid wallet address format",
  "details": "Address must be a valid Ethereum checksum address"
}
```
</CodeGroup>

### Common error codes:
<ResponseField name="400" type="Bad Request">
  Invalid parameters or malformed request
</ResponseField>
<ResponseField name="401" type="Unauthorized">  
  Invalid or missing API key
</ResponseField>
<ResponseField name="403" type="Forbidden">
  Access denied for requested resource
</ResponseField>
<ResponseField name="404" type="Not Found">
  Lock ID or resource not found
</ResponseField>
<ResponseField name="503" type="Service Unavailable">
  Smart contract infrastructure unavailable
</ResponseField>
Testing Environment
Use the Sepolia testnet for integration testing. All operations mirror production behavior but use test tokens without value.
Test ISIN codes for different scenarios:
<ResponseField name="US0378331005" type="string">
  Apple Inc. - Standard successful flow
</ResponseField>
<ResponseField name="TEST0000001" type="string">
  Simulated network delay (5-10 seconds)
</ResponseField>
<ResponseField name="FAIL0000001" type="string">
  Simulated minting failure for error handling tests
</ResponseField>
Your test API key allows unlimited operations on Sepolia. Request test ETH from our support team if needed for gas fees.

## Rate Limits
Production API endpoints are rate limited per partner:

- Lock/Mint operations: 100 requests per minute
- Status checks: 500 requests per minute
- Webhook deliveries: Retry up to 5 times with exponential backoff

Test environment has no rate limits but requests timeout after 30 seconds.