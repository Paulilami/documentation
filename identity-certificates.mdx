---
title: "Customer Management"
description: "Secure customer management system."
---

![ID verification integration in issuance interface](/images/id.png)

## System Architecture
Our customer management system is based on the following core architecture: 
1. **Identity Register:** An on-chain register storing identity certificates of users that proof KYC- and personal data without revealing it based on zero-knowledge proofs.
2. **API Integration:** Allowing you to verify customers directly from your backend and map existing data-fields to your on-chain customer. Synchronize data, setup automations, and verify in batches up to 500 customers at once just with an API call.

## Instance-Based Relations
The identity registry is the only contract set and general operation that can be used accross instances. This means, for user identities, all instances of an issuer use the same smart contract that is only controlled by the issuer. This enables more controlled and reliable identity compliance for financial institutions. Issuers can set different notes and data points for each customer instance-based through the backend, yet the on-chain data stays accross instances. 

## Verification Methods

### Third-Party Verification (Links)

Integration with Entrust provides automated KYC collection. Send verification links to email addresses or wallet addresses with custom expiry periods (24 hours to 30 days). Recipients complete identity verification through Entrust's secure portal. Verification data automatically records on-chain upon completion.

**Process flow**: Generate link → Send to recipient → User completes KYC → Automatic on-chain recording → Token transfer enabled

### Manual Verification

Financial institutions can directly verify the data points needed, generating a zk-based on-chain proof. This method requires assumption of full legal responsibility for verification accuracy. Input includes wallet address, ISO 3166-1 alpha-2 country code, and optional expiry timestamp.

**Required data**: Ethereum address validation, country jurisdiction (2-letter code), verification duration (Unix timestamp), issuer signature

### Batch Processing

Process up to 500 verifications per transaction through CSV or API submission. System automatically chunks large batches to optimize gas costs (80% reduction versus individual transactions).

<Tabs>
  <Tab title="CSV Upload">
    ```csv
    address,country
    0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb6,US
    0x5aAeb6053f3E94C9b9A09f33669435E7Ef1BeAed,GB
    ```
    
    Supported headers: `address`, `wallet`, `walletAddress`, `user`
    Country fields: `country`, `countryCode`, `jurisdiction`
  </Tab>
  
  <Tab title="API Submission">
    ```json
    
    {
      "data": [
        {"address": "0x742d35Cc...", "country": "US"},
        {"address": "0x5aAeb6053...", "country": "GB"}
      ]
    }
    ```
    
    Returns batch ID for progress tracking.
  </Tab>
</Tabs>

## Integration Pathways

### Web Interface
![KYC/B interface](/images/manid.png)

Access through the issuers portal. Visual dashboard displays verification status, completion rates, and expiry tracking. Export functionality for regulatory reporting.

**Features**: Link generation wizard, bulk upload interface, real-time status monitoring, automated email notifications and much more.

### API Integration
Visit at our [API Docs](/api-intro)

## Compliance Enforcement

Identity certificates automatically integrate with token contracts. Transfer attempts fail for non-verified addresses with revert message `KYC_NOT_VERIFIED`. 

**Enforcement mechanisms**:
- Pre-transfer verification check (adds 5,000 gas)
- Automatic expiry enforcement at block timestamp
- Cross-token verification sharing within instance
- Jurisdiction-based transfer restrictions

### Country-Specific Rules

Implement transfer restrictions based on stored country codes:

| Jurisdiction | Restriction Type | Implementation |
|-------------|-----------------|----------------|
| US persons | Accredited investor only | Secondary verification flag |
| EU residents | MiCA compliance required | Whitepaper registration check |
| Sanctioned countries | Complete block | Automatic rejection |

### Expiry Management

Verifications can include optional expiry timestamps. System checks `block.timestamp > expiryTime` on each transfer attempt. Expired verifications require renewal through new verification process.

### Revocation Process

Remove verification status for compliance violations or account closure:

```
{
  "address": "0x742d35Cc...",
  "reason": "Compliance violation"
}
```

Batch revocation available for up to 500 addresses simultaneously. Revoked addresses cannot receive tokens until re-verified.

<Warning>
  Manual verification transfers legal liability to your institution. Ensure proper compliance procedures, documentation retention (7 years minimum), and regular audits before enabling manual verification.
</Warning>
